{"version":3,"file":"_page.svelte-7e30164b.js","sources":["../../../.svelte-kit/adapter-node/entries/pages/(app)/chat/_page.svelte.js"],"sourcesContent":["import { c as create_ssr_component, v as validate_component, d as add_attribute, e as escape, b as subscribe, f as each } from \"../../../../chunks/index.js\";\nimport { I as IconBase } from \"../../../../chunks/IconBase.js\";\nimport io from \"socket.io-client\";\nimport { s as sockets, c as clients } from \"../../../../chunks/chat.js\";\nconst IoIosFlash = create_ssr_component(($$result, $$props, $$bindings, slots) => {\n  return `${validate_component(IconBase, \"IconBase\").$$render($$result, Object.assign({ viewBox: \"0 0 512 512\" }, $$props), {}, {\n    default: () => {\n      return `<path d=\"${\"M376.2 224H268l52.4-186.9c.9-4.5-4.6-7.1-7.2-3.4L129.5 274.6c-3.8 5.6-.2 13.4 6.3 13.4H244l-52.4 186.9c-.9 4.5 4.6 7.1 7.2 3.4l183.7-240.8c3.7-5.7.2-13.5-6.3-13.5z\"}\"></path>`;\n    }\n  })}`;\n});\nconst Card = create_ssr_component(($$result, $$props, $$bindings, slots) => {\n  let { client } = $$props;\n  if ($$props.client === void 0 && $$bindings.client && client !== void 0)\n    $$bindings.client(client);\n  return `<a${add_attribute(\"href\", `/chat/${client.id}`, 0)}><section class=\"${\"flex mt-3 p-3 justify-around items-center w-screen rounded-full cursor-pointer bg-stone-900 transition-[200ms] hover:bg-stone-900/60\"}\"><div class=\"${\"relative\"}\">${!client.image ? `<img class=\"${\"rounded-full\"}\" width=\"${\"70\"}\" src=\"${\"/profile.jpeg\"}\" alt=\"${\"profile\"}\">` : ``}\n            ${client.image ? `<img class=\"${\"rounded-full\"}\" width=\"${\"70\"}\"${add_attribute(\"src\", client.image, 0)} alt=\"${\"profile\"}\">` : ``}\n            <div class=\"${\"absolute bottom-0 right-0 w-[8px] h-[8px] bg-[greenyellow] rounded-full\"}\"></div></div>\n        <article class=\"${\"flex justify-between items-center gap-3\"}\"><h4 class=\"${\"text-[1.3] text-[greenyellow] font-medium\"}\">${escape(client.username)}</h4>\n            <p class=\"${\"text-[.9rem] text-stone-300\"}\">${escape(`${new Date(Date.now()).getHours()} : ${new Date(Date.now()).getMinutes()}`)}</p></article></section></a>`;\n});\nconst MdModeEdit = create_ssr_component(($$result, $$props, $$bindings, slots) => {\n  return `${validate_component(IconBase, \"IconBase\").$$render($$result, Object.assign({ viewBox: \"0 0 24 24\" }, $$props), {}, {\n    default: () => {\n      return `<path d=\"${\"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z\"}\"></path>`;\n    }\n  })}`;\n});\nconst Header = create_ssr_component(($$result, $$props, $$bindings, slots) => {\n  let { user } = $$props;\n  if ($$props.user === void 0 && $$bindings.user && user !== void 0)\n    $$bindings.user(user);\n  return `<header class=\"${\"flex justify-around items-center p-2 w-screen bg-stone-800\"}\"><section>${!(user == null ? void 0 : user.image) ? `<img class=\"${\"rounded-full\"}\" width=\"${\"100\"}\" src=\"${\"/profile.jpeg\"}\" alt=\"${\"profile\"}\">` : ``}\n        ${(user == null ? void 0 : user.image) ? `<img class=\"${\"rounded-full\"}\" width=\"${\"100\"}\"${add_attribute(\"src\", user.image, 0)} alt=\"${\"profile\"}\">` : ``}</section>\n    <div class=\"${\"flex flex-col justify-center \"}\"><h4 class=\"${\"text-[greenyellow] text-[1.3rem] font-medium\"}\">${escape(user == null ? void 0 : user.username)}</h4>\n        <p class=\"${\"text-stone-400 text-[.8rem]\"}\">Front End Developer</p></div>\n    <a${add_attribute(\"href\", \"/chat/settings\", 0)} class=\"${\"text-stone-300 w-[20px]\"}\">${validate_component(MdModeEdit, \"MdModeEdit\").$$render($$result, {}, {}, {})}</a></header>`;\n});\nfunction guard(name) {\n  return () => {\n    throw new Error(`Cannot call ${name}(...) on the server`);\n  };\n}\nconst goto = guard(\"goto\");\nconst Page = create_ssr_component(($$result, $$props, $$bindings, slots) => {\n  let $clients, $$unsubscribe_clients;\n  $$unsubscribe_clients = subscribe(clients, (value) => $clients = value);\n  let { data } = $$props;\n  const { user } = data;\n  const client = {\n    senderName: user.username,\n    senderImg: user.image,\n    senderId: user.id\n  };\n  let input = \"\";\n  const socket = io(\"http://localhost:3000\");\n  sockets.set(socket);\n  socket.on(\"on-room\", (data2) => {\n    if (data2) {\n      goto(\"/chat/room\");\n    }\n  });\n  if ($$props.data === void 0 && $$bindings.data && data !== void 0)\n    $$bindings.data(data);\n  {\n    socket.emit(\"on-join\", client);\n  }\n  {\n    socket.on(\"clients\", (data2) => {\n      let filtered = data2.filter((s) => s.id !== user.id);\n      clients.set(filtered);\n    });\n  }\n  $$unsubscribe_clients();\n  return `${$$result.head += `<!-- HEAD_svelte-178il7c_START -->${$$result.title = `<title>p3chat&#39;S</title>`, \"\"}<meta name=\"${\"description\"}\" content=\"${\"Chat with your friend or random people in p3chat's\"}\"><!-- HEAD_svelte-178il7c_END -->`, \"\"}\n${validate_component(Header, \"Header\").$$render($$result, { user }, {}, {})}\n<main class=\"${\"w-screen h-screen bg-stone-800 flex flex-col items-center\"}\"><section class=\"${\"mt-10 relative\"}\"><input maxlength=\"${\"6\"}\" class=\"${\"p-3 w-[80vw] rounded-full outline-none bg-stone-700 text-white placeholder:text-stone-400\"}\" type=\"${\"text\"}\" placeholder=\"${\"room id\"}\"${add_attribute(\"value\", input, 0)}>\n\t\t<div class=\"${\"absolute top-[10px] right-[10px] w-[30px] text-stone-200\"}\">${validate_component(IoIosFlash, \"IoIosFlash\").$$render($$result, {}, {}, {})}</div></section>\n\t<div class=\"${\"flex mt-4 flex-col justify-center items-center w-screen\"}\">${!$clients.length ? `<p class=\"${\"mt-8 text-stone-200 text-[.9rem]\"}\">There&#39;s no online user&#39;s yet</p>` : ``}\n\t\t${each($clients, (client2) => {\n    return `${validate_component(Card, \"Card\").$$render($$result, { client: client2 }, {}, {})}`;\n  })}</div></main>`;\n});\nexport {\n  Page as default\n};\n"],"names":[],"mappings":";;;;;;AAIA,MAAM,UAAU,GAAG,oBAAoB,CAAC,CAAC,QAAQ,EAAE,OAAO,EAAE,UAAU,EAAE,KAAK,KAAK;AAClF,EAAE,OAAO,CAAC,EAAE,kBAAkB,CAAC,QAAQ,EAAE,UAAU,CAAC,CAAC,QAAQ,CAAC,QAAQ,EAAE,MAAM,CAAC,MAAM,CAAC,EAAE,OAAO,EAAE,aAAa,EAAE,EAAE,OAAO,CAAC,EAAE,EAAE,EAAE;AAChI,IAAI,OAAO,EAAE,MAAM;AACnB,MAAM,OAAO,CAAC,SAAS,EAAE,qKAAqK,CAAC,SAAS,CAAC,CAAC;AAC1M,KAAK;AACL,GAAG,CAAC,CAAC,CAAC,CAAC;AACP,CAAC,CAAC,CAAC;AACH,MAAM,IAAI,GAAG,oBAAoB,CAAC,CAAC,QAAQ,EAAE,OAAO,EAAE,UAAU,EAAE,KAAK,KAAK;AAC5E,EAAE,IAAI,EAAE,MAAM,EAAE,GAAG,OAAO,CAAC;AAC3B,EAAE,IAAI,OAAO,CAAC,MAAM,KAAK,KAAK,CAAC,IAAI,UAAU,CAAC,MAAM,IAAI,MAAM,KAAK,KAAK,CAAC;AACzE,IAAI,UAAU,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC;AAC9B,EAAE,OAAO,CAAC,EAAE,EAAE,aAAa,CAAC,MAAM,EAAE,CAAC,MAAM,EAAE,MAAM,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,iBAAiB,EAAE,sIAAsI,CAAC,cAAc,EAAE,UAAU,CAAC,EAAE,EAAE,CAAC,MAAM,CAAC,KAAK,GAAG,CAAC,YAAY,EAAE,cAAc,CAAC,SAAS,EAAE,IAAI,CAAC,OAAO,EAAE,eAAe,CAAC,OAAO,EAAE,SAAS,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC;AACzW,YAAY,EAAE,MAAM,CAAC,KAAK,GAAG,CAAC,YAAY,EAAE,cAAc,CAAC,SAAS,EAAE,IAAI,CAAC,CAAC,EAAE,aAAa,CAAC,KAAK,EAAE,MAAM,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC,MAAM,EAAE,SAAS,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC;AAC/I,wBAAwB,EAAE,yEAAyE,CAAC;AACpG,wBAAwB,EAAE,yCAAyC,CAAC,aAAa,EAAE,2CAA2C,CAAC,EAAE,EAAE,MAAM,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC;AAC3J,sBAAsB,EAAE,6BAA6B,CAAC,EAAE,EAAE,MAAM,CAAC,CAAC,EAAE,IAAI,IAAI,CAAC,IAAI,CAAC,GAAG,EAAE,CAAC,CAAC,QAAQ,EAAE,CAAC,GAAG,EAAE,IAAI,IAAI,CAAC,IAAI,CAAC,GAAG,EAAE,CAAC,CAAC,UAAU,EAAE,CAAC,CAAC,CAAC,CAAC,4BAA4B,CAAC,CAAC;AAC5K,CAAC,CAAC,CAAC;AACH,MAAM,UAAU,GAAG,oBAAoB,CAAC,CAAC,QAAQ,EAAE,OAAO,EAAE,UAAU,EAAE,KAAK,KAAK;AAClF,EAAE,OAAO,CAAC,EAAE,kBAAkB,CAAC,QAAQ,EAAE,UAAU,CAAC,CAAC,QAAQ,CAAC,QAAQ,EAAE,MAAM,CAAC,MAAM,CAAC,EAAE,OAAO,EAAE,WAAW,EAAE,EAAE,OAAO,CAAC,EAAE,EAAE,EAAE;AAC9H,IAAI,OAAO,EAAE,MAAM;AACnB,MAAM,OAAO,CAAC,SAAS,EAAE,uJAAuJ,CAAC,SAAS,CAAC,CAAC;AAC5L,KAAK;AACL,GAAG,CAAC,CAAC,CAAC,CAAC;AACP,CAAC,CAAC,CAAC;AACH,MAAM,MAAM,GAAG,oBAAoB,CAAC,CAAC,QAAQ,EAAE,OAAO,EAAE,UAAU,EAAE,KAAK,KAAK;AAC9E,EAAE,IAAI,EAAE,IAAI,EAAE,GAAG,OAAO,CAAC;AACzB,EAAE,IAAI,OAAO,CAAC,IAAI,KAAK,KAAK,CAAC,IAAI,UAAU,CAAC,IAAI,IAAI,IAAI,KAAK,KAAK,CAAC;AACnE,IAAI,UAAU,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;AAC1B,EAAE,OAAO,CAAC,eAAe,EAAE,4DAA4D,CAAC,WAAW,EAAE,EAAE,IAAI,IAAI,IAAI,GAAG,KAAK,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,YAAY,EAAE,cAAc,CAAC,SAAS,EAAE,KAAK,CAAC,OAAO,EAAE,eAAe,CAAC,OAAO,EAAE,SAAS,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC;AACjP,QAAQ,EAAE,CAAC,IAAI,IAAI,IAAI,GAAG,KAAK,CAAC,GAAG,IAAI,CAAC,KAAK,IAAI,CAAC,YAAY,EAAE,cAAc,CAAC,SAAS,EAAE,KAAK,CAAC,CAAC,EAAE,aAAa,CAAC,KAAK,EAAE,IAAI,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC,MAAM,EAAE,SAAS,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC;AAClK,gBAAgB,EAAE,+BAA+B,CAAC,aAAa,EAAE,8CAA8C,CAAC,EAAE,EAAE,MAAM,CAAC,IAAI,IAAI,IAAI,GAAG,KAAK,CAAC,GAAG,IAAI,CAAC,QAAQ,CAAC,CAAC;AAClK,kBAAkB,EAAE,6BAA6B,CAAC;AAClD,MAAM,EAAE,aAAa,CAAC,MAAM,EAAE,gBAAgB,EAAE,CAAC,CAAC,CAAC,QAAQ,EAAE,yBAAyB,CAAC,EAAE,EAAE,kBAAkB,CAAC,UAAU,EAAE,YAAY,CAAC,CAAC,QAAQ,CAAC,QAAQ,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,CAAC,aAAa,CAAC,CAAC;AACtL,CAAC,CAAC,CAAC;AACH,SAAS,KAAK,CAAC,IAAI,EAAE;AACrB,EAAE,OAAO,MAAM;AACf,IAAI,MAAM,IAAI,KAAK,CAAC,CAAC,YAAY,EAAE,IAAI,CAAC,mBAAmB,CAAC,CAAC,CAAC;AAC9D,GAAG,CAAC;AACJ,CAAC;AACD,MAAM,IAAI,GAAG,KAAK,CAAC,MAAM,CAAC,CAAC;AACtB,MAAC,IAAI,GAAG,oBAAoB,CAAC,CAAC,QAAQ,EAAE,OAAO,EAAE,UAAU,EAAE,KAAK,KAAK;AAC5E,EAAE,IAAI,QAAQ,EAAE,qBAAqB,CAAC;AACtC,EAAE,qBAAqB,GAAG,SAAS,CAAC,OAAO,EAAE,CAAC,KAAK,KAAK,QAAQ,GAAG,KAAK,CAAC,CAAC;AAC1E,EAAE,IAAI,EAAE,IAAI,EAAE,GAAG,OAAO,CAAC;AACzB,EAAE,MAAM,EAAE,IAAI,EAAE,GAAG,IAAI,CAAC;AACxB,EAAE,MAAM,MAAM,GAAG;AACjB,IAAI,UAAU,EAAE,IAAI,CAAC,QAAQ;AAC7B,IAAI,SAAS,EAAE,IAAI,CAAC,KAAK;AACzB,IAAI,QAAQ,EAAE,IAAI,CAAC,EAAE;AACrB,GAAG,CAAC;AACJ,EAAE,IAAI,KAAK,GAAG,EAAE,CAAC;AACjB,EAAE,MAAM,MAAM,GAAG,EAAE,CAAC,uBAAuB,CAAC,CAAC;AAC7C,EAAE,OAAO,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;AACtB,EAAE,MAAM,CAAC,EAAE,CAAC,SAAS,EAAE,CAAC,KAAK,KAAK;AAClC,IAAI,IAAI,KAAK,EAAE;AACf,MAAM,IAAI,CAAC,YAAY,CAAC,CAAC;AACzB,KAAK;AACL,GAAG,CAAC,CAAC;AACL,EAAE,IAAI,OAAO,CAAC,IAAI,KAAK,KAAK,CAAC,IAAI,UAAU,CAAC,IAAI,IAAI,IAAI,KAAK,KAAK,CAAC;AACnE,IAAI,UAAU,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;AAC1B,EAAE;AACF,IAAI,MAAM,CAAC,IAAI,CAAC,SAAS,EAAE,MAAM,CAAC,CAAC;AACnC,GAAG;AACH,EAAE;AACF,IAAI,MAAM,CAAC,EAAE,CAAC,SAAS,EAAE,CAAC,KAAK,KAAK;AACpC,MAAM,IAAI,QAAQ,GAAG,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,EAAE,KAAK,IAAI,CAAC,EAAE,CAAC,CAAC;AAC3D,MAAM,OAAO,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;AAC5B,KAAK,CAAC,CAAC;AACP,GAAG;AACH,EAAE,qBAAqB,EAAE,CAAC;AAC1B,EAAE,OAAO,CAAC,EAAE,QAAQ,CAAC,IAAI,IAAI,CAAC,kCAAkC,EAAE,QAAQ,CAAC,KAAK,GAAG,CAAC,2BAA2B,CAAC,EAAE,EAAE,CAAC,YAAY,EAAE,aAAa,CAAC,WAAW,EAAE,oDAAoD,CAAC,kCAAkC,CAAC,EAAE,EAAE,CAAC;AAC3P,EAAE,kBAAkB,CAAC,MAAM,EAAE,QAAQ,CAAC,CAAC,QAAQ,CAAC,QAAQ,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,CAAC;AAC5E,aAAa,EAAE,2DAA2D,CAAC,kBAAkB,EAAE,gBAAgB,CAAC,oBAAoB,EAAE,GAAG,CAAC,SAAS,EAAE,2FAA2F,CAAC,QAAQ,EAAE,MAAM,CAAC,eAAe,EAAE,SAAS,CAAC,CAAC,EAAE,aAAa,CAAC,OAAO,EAAE,KAAK,EAAE,CAAC,CAAC,CAAC;AACjU,cAAc,EAAE,0DAA0D,CAAC,EAAE,EAAE,kBAAkB,CAAC,UAAU,EAAE,YAAY,CAAC,CAAC,QAAQ,CAAC,QAAQ,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,CAAC;AAC3J,aAAa,EAAE,yDAAyD,CAAC,EAAE,EAAE,CAAC,QAAQ,CAAC,MAAM,GAAG,CAAC,UAAU,EAAE,kCAAkC,CAAC,0CAA0C,CAAC,GAAG,CAAC,CAAC,CAAC;AACjM,EAAE,EAAE,IAAI,CAAC,QAAQ,EAAE,CAAC,OAAO,KAAK;AAChC,IAAI,OAAO,CAAC,EAAE,kBAAkB,CAAC,IAAI,EAAE,MAAM,CAAC,CAAC,QAAQ,CAAC,QAAQ,EAAE,EAAE,MAAM,EAAE,OAAO,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC;AACjG,GAAG,CAAC,CAAC,aAAa,CAAC,CAAC;AACpB,CAAC;;;;"}