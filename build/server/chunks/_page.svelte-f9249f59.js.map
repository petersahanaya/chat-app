{"version":3,"file":"_page.svelte-f9249f59.js","sources":["../../../.svelte-kit/adapter-node/entries/pages/(app)/chat/room/_page.svelte.js"],"sourcesContent":["import { c as create_ssr_component, b as subscribe, d as add_attribute, f as each, v as validate_component } from \"../../../../../chunks/index.js\";\nimport { s as sockets, r as room } from \"../../../../../chunks/chat.js\";\nimport { C as Chat, F as Footer } from \"../../../../../chunks/Footer.js\";\nconst Page = create_ssr_component(($$result, $$props, $$bindings, slots) => {\n  let $sockets, $$unsubscribe_sockets;\n  let $room, $$unsubscribe_room;\n  $$unsubscribe_sockets = subscribe(sockets, (value) => $sockets = value);\n  $$unsubscribe_room = subscribe(room, (value) => $room = value);\n  let { data } = $$props;\n  let input = \"\";\n  let results = [];\n  let article;\n  const { user } = data;\n  $sockets.on(\"send-room\", (data2) => {\n    console.log(data2);\n    results = [...results, data2];\n  });\n  $sockets.on(\"on-room\", (data2) => {\n  });\n  const handleSend = () => {\n    if (input) {\n      const messages = {\n        senderName: user.username,\n        senderImg: user.image,\n        senderMsg: input,\n        roomId: $room,\n        date: `${new Date(Date.now()).getHours()} : ${new Date(Date.now()).getMinutes()}`\n      };\n      $sockets.emit(\"room-msg\", messages);\n      results = [...results, messages];\n      input = \"\";\n    }\n  };\n  const handleChange = (e) => {\n    input = e.target.value;\n    console.log(e.target.value);\n  };\n  const handleInput = (e) => {\n    if (input) {\n      if (e.key === \"Enter\") {\n        const messages = {\n          senderName: user.username,\n          senderImg: user.image,\n          senderMsg: input,\n          roomId: $room,\n          date: `${new Date(Date.now()).getHours()} : ${new Date(Date.now()).getMinutes()}`\n        };\n        console.log(\"Sended..\");\n        $sockets.emit(\"room-msg\", messages);\n        results = [...results, messages];\n        input = \"\";\n      }\n    }\n  };\n  if ($$props.data === void 0 && $$bindings.data && data !== void 0)\n    $$bindings.data(data);\n  $$unsubscribe_sockets();\n  $$unsubscribe_room();\n  return `${$$result.head += `<!-- HEAD_svelte-4r789v_START -->${$$result.title = `<title>Chat&#39;s</title>`, \"\"}<meta name=\"${\"description\"}\" content=\"${\"you can chat with you'r friend anywhere\"}\"><!-- HEAD_svelte-4r789v_END -->`, \"\"}\n\n<main class=\"${\"w-screem screen bg-stone-800\"}\"><header class=\"${\"flex justify-around items-center p-2 w-screen h-[10vh] bg-stone-800 shadow-md shadow-white\"}\"><h3 class=\"${\"text-[3rem] text-zinc-200\"}\">Chat&#39;s room</h3></header>\n\t<article class=\"${\"bg-stone-800 w-screen h-screen overflow-y-scroll overflow-x-hidden pb-32\"}\"${add_attribute(\"this\", article, 0)}>${results.length ? `${each(results, (result, i) => {\n    return `${validate_component(Chat, \"Chat\").$$render($$result, { result, user }, {}, {})}`;\n  })}` : ``}</article>\n${validate_component(Footer, \"Footer\").$$render(\n    $$result,\n    {\n      handleSend,\n      handleChange,\n      input,\n      handleInput\n    },\n    {},\n    {}\n  )}</main>`;\n});\nexport {\n  Page as default\n};\n"],"names":[],"mappings":"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"}