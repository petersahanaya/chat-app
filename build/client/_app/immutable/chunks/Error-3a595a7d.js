import{p as F}from"./parse-c28c2630.js";import{j as S}from"./singletons-8fb9c5f0.js";import{i as T}from"./navigation-19c7bdf3.js";import{S as D,i as H,s as N,k as y,M as A,a as O,q,l as b,m as w,N as L,h as f,c as z,r as B,n as c,b as C,G as _,u as I,O as P,a1 as M}from"./index-d2d958bb.js";import{f as j}from"./index-d91ca114.js";const V=S.apply_action;function G(a){const t=JSON.parse(a);return t.data&&(t.data=F(t.data)),t}function X(a,t=()=>{}){const s=async({action:e,result:n,reset:o})=>{n.type==="success"&&(o!==!1&&HTMLFormElement.prototype.reset.call(a),await T()),(location.origin+location.pathname===e.origin+e.pathname||n.type==="redirect"||n.type==="error")&&V(n)};async function r(e){var g,v,E,k,x;e.preventDefault();const n=new URL((g=e.submitter)!=null&&g.hasAttribute("formaction")?e.submitter.formAction:HTMLFormElement.prototype.cloneNode.call(a).action),o=new FormData(a),h=(v=e.submitter)==null?void 0:v.getAttribute("name");h&&o.append(h,(k=(E=e.submitter)==null?void 0:E.getAttribute("value"))!=null?k:"");const i=new AbortController;let m=!1;const p=(x=await t({action:n,cancel:()=>m=!0,controller:i,data:o,form:a}))!=null?x:s;if(m)return;let d;try{const u=await fetch(n,{method:"POST",headers:{accept:"application/json","x-sveltekit-action":"true"},cache:"no-store",body:o,signal:i.signal});d=G(await u.text())}catch(u){if((u==null?void 0:u.name)==="AbortError")return;d={type:"error",error:u}}p({action:n,data:o,form:a,update:u=>s({action:n,result:d,reset:u==null?void 0:u.reset}),result:d,get type(){throw new Error("(result) => {...} has changed to ({ result }) => {...}")},get location(){throw new Error("(result) => {...} has changed to ({ result }) => {...}")},get error(){throw new Error("(result) => {...} has changed to ({ result }) => {...}")}})}return HTMLFormElement.prototype.addEventListener.call(a,"submit",r),{destroy(){HTMLFormElement.prototype.removeEventListener.call(a,"submit",r)}}}function J(a){let t,s,r,e,n,o,h,i,m;return{c(){t=y("div"),s=y("div"),r=A("svg"),e=A("path"),n=O(),o=y("span"),h=q(a[0]),this.h()},l(l){t=b(l,"DIV",{class:!0});var p=w(t);s=b(p,"DIV",{class:!0});var d=w(s);r=L(d,"svg",{xmlns:!0,class:!0,fill:!0,viewBox:!0});var g=w(r);e=L(g,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),w(e).forEach(f),g.forEach(f),n=z(d),o=b(d,"SPAN",{class:!0});var v=w(o);h=B(v,a[0]),v.forEach(f),d.forEach(f),p.forEach(f),this.h()},h(){c(e,"stroke-linecap","round"),c(e,"stroke-linejoin","round"),c(e,"stroke-width","2"),c(e,"d","M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"),c(r,"xmlns","http://www.w3.org/2000/svg"),c(r,"class","stroke-current flex-shrink-0 h-6 w-6"),c(r,"fill","none"),c(r,"viewBox","0 0 24 24"),c(o,"class","text-[.8rem]"),c(s,"class","flex justify-around items-center"),c(t,"class","bg-red-600 w-[20rem] m-auto absolute top-[10%] right-[50%] translate-x-[50%] rounded-lg p-3 shadow-lg")},m(l,p){C(l,t,p),_(t,s),_(s,r),_(r,e),_(s,n),_(s,o),_(o,h),m=!0},p(l,[p]){(!m||p&1)&&I(h,l[0])},i(l){m||(P(()=>{i||(i=M(t,j,{y:-200,duration:600,opacity:0},!0)),i.run(1)}),m=!0)},o(l){i||(i=M(t,j,{y:-200,duration:600,opacity:0},!1)),i.run(0),m=!1},d(l){l&&f(t),l&&i&&i.end()}}}function R(a,t,s){let{data:r}=t;return a.$$set=e=>{"data"in e&&s(0,r=e.data)},[r]}class Y extends D{constructor(t){super(),H(this,t,R,J,N,{data:0})}}export{Y as E,X as e};
