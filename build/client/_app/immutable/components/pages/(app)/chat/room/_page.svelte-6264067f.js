import{S as P,i as W,s as Y,k as y,a as M,q as $,w as z,T as B,l as E,h as _,c as S,m as D,r as J,x as F,n as w,G as g,b as H,y as R,f as b,t as C,d as U,z as G,H as N,_ as K,j as O,e as I,g as L,W as Q,Y as V,$ as X}from"../../../../../chunks/index-d2d958bb.js";import{s as Z,r as x}from"../../../../../chunks/chat-b3402a2a.js";import{F as ee,C as te}from"../../../../../chunks/Footer-0e12ca97.js";function v(c,n,r){const s=c.slice();return s[13]=n[r],s[15]=r,s}function j(c){let n=[],r=new Map,s,i,a=c[1];const h=t=>t[15]+t[1].length;for(let t=0;t<a.length;t+=1){let e=v(c,a,t),f=h(e);r.set(f,n[t]=q(f,e))}return{c(){for(let t=0;t<n.length;t+=1)n[t].c();s=I()},l(t){for(let e=0;e<n.length;e+=1)n[e].l(t);s=I()},m(t,e){for(let f=0;f<n.length;f+=1)n[f].m(t,e);H(t,s,e),i=!0},p(t,e){e&10&&(a=t[1],L(),n=Q(n,e,h,1,t,a,r,s.parentNode,V,q,s,v),U())},i(t){if(!i){for(let e=0;e<a.length;e+=1)b(n[e]);i=!0}},o(t){for(let e=0;e<n.length;e+=1)C(n[e]);i=!1},d(t){for(let e=0;e<n.length;e+=1)n[e].d(t);t&&_(s)}}}function q(c,n){let r,s,i;return s=new te({props:{result:n[13],user:n[3]}}),{key:c,first:null,c(){r=I(),z(s.$$.fragment),this.h()},l(a){r=I(),F(s.$$.fragment,a),this.h()},h(){this.first=r},m(a,h){H(a,r,h),R(s,a,h),i=!0},p(a,h){n=a;const t={};h&2&&(t.result=n[13]),s.$set(t)},i(a){i||(b(s.$$.fragment,a),i=!0)},o(a){C(s.$$.fragment,a),i=!1},d(a){a&&_(r),G(s,a)}}}function se(c){let n,r,s,i,a,h,t,e,f,m,p,l=c[1].length&&j(c);return m=new ee({props:{handleSend:c[4],handleChange:c[5],input:c[0],handleInput:c[6]}}),{c(){n=y("meta"),r=M(),s=y("main"),i=y("header"),a=y("h3"),h=$("Chat's room"),t=M(),e=y("article"),l&&l.c(),f=M(),z(m.$$.fragment),this.h()},l(u){const d=B("svelte-4r789v",document.head);n=E(d,"META",{name:!0,content:!0}),d.forEach(_),r=S(u),s=E(u,"MAIN",{class:!0});var o=D(s);i=E(o,"HEADER",{class:!0});var k=D(i);a=E(k,"H3",{class:!0});var T=D(a);h=J(T,"Chat's room"),T.forEach(_),k.forEach(_),t=S(o),e=E(o,"ARTICLE",{class:!0});var A=D(e);l&&l.l(A),A.forEach(_),f=S(o),F(m.$$.fragment,o),o.forEach(_),this.h()},h(){document.title="Chat's",w(n,"name","description"),w(n,"content","you can chat with you'r friend anywhere"),w(a,"class","text-[3rem] text-zinc-200"),w(i,"class","flex justify-around items-center p-2 w-screen h-[10vh] bg-stone-800 shadow-md shadow-white"),w(e,"class","bg-stone-800 w-screen h-screen overflow-y-scroll overflow-x-hidden pb-32"),w(s,"class","w-screem screen bg-stone-800")},m(u,d){g(document.head,n),H(u,r,d),H(u,s,d),g(s,i),g(i,a),g(a,h),g(s,t),g(s,e),l&&l.m(e,null),c[8](e),g(s,f),R(m,s,null),p=!0},p(u,[d]){u[1].length?l?(l.p(u,d),d&2&&b(l,1)):(l=j(u),l.c(),b(l,1),l.m(e,null)):l&&(L(),C(l,1,1,()=>{l=null}),U());const o={};d&1&&(o.input=u[0]),m.$set(o)},i(u){p||(b(l),b(m.$$.fragment,u),p=!0)},o(u){C(l),C(m.$$.fragment,u),p=!1},d(u){_(n),u&&_(r),u&&_(s),l&&l.d(),c[8](null),G(m)}}}function ne(c,n,r){let s,i;N(c,Z,o=>r(11,s=o)),N(c,x,o=>r(12,i=o));let{data:a}=n,h="",t=[],e,f;K(()=>{f=e&&e.scrollHeight+e.scrollTop>e.scrollHeight-1}),O(()=>{f&&e.scrollTo(0,e.scrollHeight)});const{user:m}=a;s.on("send-room",o=>{console.log(o),r(1,t=[...t,o])}),s.on("on-room",o=>{});const p=()=>{if(h){const o={senderName:m.username,senderImg:m.image,senderMsg:h,roomId:i,date:`${new Date(Date.now()).getHours()} : ${new Date(Date.now()).getMinutes()}`};s.emit("room-msg",o),r(1,t=[...t,o]),r(0,h="")}},l=o=>{r(0,h=o.target.value),console.log(o.target.value)},u=o=>{if(h&&o.key==="Enter"){const k={senderName:m.username,senderImg:m.image,senderMsg:h,roomId:i,date:`${new Date(Date.now()).getHours()} : ${new Date(Date.now()).getMinutes()}`};console.log("Sended.."),s.emit("room-msg",k),r(1,t=[...t,k]),r(0,h="")}};function d(o){X[o?"unshift":"push"](()=>{e=o,r(2,e)})}return c.$$set=o=>{"data"in o&&r(7,a=o.data)},[h,t,e,m,p,l,u,a,d]}class le extends P{constructor(n){super(),W(this,n,ne,se,Y,{data:7})}}export{le as default};
